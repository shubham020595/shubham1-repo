name: Deployment
on:
  push:
    branches:
      - master
jobs:
  deploy:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [14.x]
    steps:
    - uses: actions/checkout@master

    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@master
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'
    - name: Install Packages
      
      run: npm install
    - name: Build page
      run: npm run build
    # - name: Deploy to gh-pages
    #   uses: peaceiris/actions-gh-pages@v3
    #   with:
    #     github_token: ${{ secrets.GITHUB_TOKEN  }}
    #     publish_dir: ./build
    #     keep_files: true  
    - name: Sync new files 
      uses: SamKirkland/FTP-Deploy-Action@4.3.0
      with:
        server-dir: ./shubham/
        server:  ftp.themesbrand.website
        username: themesbrand
        password: ${{ secrets.prod_FTP_PASSWORD }}
        exclude: |
          **/.git*
          **/.git*/**
          **/node_modules/**
        # public
        # src
        # package-lock.json
        # package.json
        # README.md
        # protocol: ftps
        # port: 22  